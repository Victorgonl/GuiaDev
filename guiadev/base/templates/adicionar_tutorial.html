{% extends "index.html" %}

{% block adicionar_tutorial %}

{% load static %}

<div class="body-content">

    <div class="voltar">
        <a href="/"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
    </div>

    <form method="post" action="{% url 'adicionar_tutorial' %}">
        {% csrf_token %}

        <div class="mb-4"></div>

        <div class="input-group">
            <input type="text" name="titulo" class="form-control bg-light" placeholder="Título">
        </div>

        <div class=" mb-2">
        </div>

        <div class=" input-group">
            <input type="text" name="descricao" class="form-control bg-light" placeholder="Descrição">
        </div>

        <div class="mb-4"></div>

        <div id="inputs-codigo-marcacao">

            <div class="button-adicionar-codigo">
                <a href="#" class="btn btn-secondary btn-icon-split">
                    <span class="icon text-white-50">
                        <i class="fas fa-arrow-right"></i>
                    </span>
                    <span class="text">Código</span>
                </a>
            </div>

            <div class="mb-2"></div>

            <div class="button-adicionar-marcacao">
                <a href="#" class="btn btn-light btn-icon-split">
                    <span class="icon text-gray-600">
                        <i class="fas fa-arrow-right"></i>
                    </span>
                    <span class="text">Marcação</span>
                </a>
            </div>

            <div class="mb-4"></div>

        </div>

        <div class="mb-4"></div>

        <button class="btn btn-success btn-icon-split" type="submit" value="Submit">
            <span class="icon text-white-50">
                <i class="fas fa-check"></i>
            </span>
            <span class="text">Adicionar Tutorial</span>
        </button>

    </form>

</div>

<script>
    const inputCodigo = `
    <div class="input-group">
        <input type="text" name="conteudos" class="form-control bg-light" placeholder="Código">
        <input type="hidden" name="conteudos_tipo" value="c">
        <button class="button-remover btn-sm btn-danger" type="button">X</button>
    </div>
    <div class="mb-2"></div>
    `;

    const inputMarcacao = `
    <div class="input-group">
        <input type="text" name="conteudos" class="form-control bg-light" placeholder="Marcação">
        <input type="hidden" name="conteudos_tipo" value="m">
        <button class="button-remover btn-sm btn-danger" type="button">X</button>
    </div>
    <div class="mb-2"></div>
    `;

    const botaoMaisCodigo = document.querySelector('.button-adicionar-codigo');
    const botaoMaisMarcacao = document.querySelector('.button-adicionar-marcacao');
    const inputs = document.querySelector('#inputs-codigo-marcacao');

    botaoMaisCodigo.addEventListener('click', (e) => {
        e.preventDefault();
        const inputWrapper = document.createElement('div');
        inputWrapper.innerHTML = inputCodigo;
        inputs.appendChild(inputWrapper);
    });

    botaoMaisMarcacao.addEventListener('click', (e) => {
        e.preventDefault();
        const inputWrapper = document.createElement('div');
        inputWrapper.innerHTML = inputMarcacao;
        inputs.appendChild(inputWrapper);
    });

    inputs.addEventListener('click', (e) => {
        if (e.target.classList.contains('button-remover')) {
            e.target.parentNode.remove();
        }
    });
</script>

{% endblock adicionar_tutorial %}